<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="870" height="1264" viewBox="0 0 870 1264" font-family="Inter, system-ui, sans-serif">
  <defs>
        <marker id="arrow-end" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto" markerUnits="strokeWidth">
            <path d="M1,1 L6,4 L1,7 z" fill="context-stroke" />
        </marker>
        <marker id="arrow-start" markerWidth="8" markerHeight="8" refX="2" refY="4" orient="auto" markerUnits="strokeWidth">
            <path d="M7,1 L2,4 L7,7 z" fill="context-stroke" />
        </marker>
  </defs>
  <rect width="100%" height="100%" fill="white" />
  <g class="subgraph" data-id="ClientFlow">
    <rect x="393.5" y="80.0" width="396.0" height="512.0" rx="16" ry="16" fill="#edf2f7" fill-opacity="0.7" stroke="#a0aec0" stroke-width="1.5" />
    <text x="413.5" y="100.0" fill="#2d3748" font-size="14" font-weight="600" text-anchor="start" dominant-baseline="hanging">ClientFlow</text>
  </g>
  <line x1="591.5" y1="224.0" x2="591.5" y2="323.0" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <g pointer-events="none">
    <rect x="535.4" y="249.5" width="112.2" height="28.0" rx="6" ry="6" fill="white" fill-opacity="0.96" stroke="#2d3748" stroke-width="1" />
    <text x="591.5" y="263.5" fill="#2d3748" font-size="13" text-anchor="middle" dominant-baseline="middle" xml:space="preserve">POST /diagram</text>
  </g>
  <line x1="579.1" y1="378.7" x2="526.9" y2="483.1" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <g pointer-events="none">
    <rect x="535.0" y="406.9" width="36.0" height="28.0" rx="6" ry="6" fill="white" fill-opacity="0.96" stroke="#2d3748" stroke-width="1" />
    <text x="553.0" y="420.9" fill="#2d3748" font-size="13" text-anchor="middle" dominant-baseline="middle" xml:space="preserve">No</text>
  </g>
  <line x1="603.9" y1="378.7" x2="656.1" y2="483.1" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <g pointer-events="none">
    <rect x="610.9" y="406.9" width="38.2" height="28.0" rx="6" ry="6" fill="white" fill-opacity="0.96" stroke="#2d3748" stroke-width="1" />
    <text x="630.0" y="420.9" fill="#2d3748" font-size="13" text-anchor="middle" dominant-baseline="middle" xml:space="preserve">Yes</text>
  </g>
  <polyline points="657.5,544.0 601.1,664.4 490.8,704.4 380.4,744.4 295.0,704.4" fill="none" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <line x1="230.0" y1="704.0" x2="230.0" y2="803.0" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <line x1="217.6" y1="858.8" x2="165.4" y2="963.1" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <g pointer-events="none">
    <rect x="172.4" y="887.0" width="38.2" height="28.0" rx="6" ry="6" fill="white" fill-opacity="0.96" stroke="#2d3748" stroke-width="1" />
    <text x="191.5" y="901.0" fill="#2d3748" font-size="13" text-anchor="middle" dominant-baseline="middle" xml:space="preserve">Yes</text>
  </g>
  <line x1="242.4" y1="858.8" x2="294.6" y2="963.1" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <g pointer-events="none">
    <rect x="250.5" y="887.0" width="36.0" height="28.0" rx="6" ry="6" fill="white" fill-opacity="0.96" stroke="#2d3748" stroke-width="1" />
    <text x="268.5" y="901.0" fill="#2d3748" font-size="13" text-anchor="middle" dominant-baseline="middle" xml:space="preserve">No</text>
  </g>
  <polyline points="380.0,966.0 392.5,961.0 527.5,781.7 662.5,602.4 668.4,545.0" fill="none" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <line x1="165.0" y1="1024.0" x2="214.6" y2="1123.1" stroke="#2d3748" stroke-width="2" marker-end="url(#arrow-end)" />
  <rect x="601.5" y="484.0" width="140.0" height="60.0" rx="8" ry="8" fill="#fde68a" stroke="#2d3748" stroke-width="2" />
  <text x="671.5" y="514.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Queue Job</text>
  <polygon points="591.5,324.0 661.5,354.0 591.5,384.0 521.5,354.0" fill="#fbcfe8" stroke="#2d3748" stroke-width="2" />
  <text x="591.5" y="354.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Payload Valid?</text>
  <rect x="80.0" y="964.0" width="140.0" height="60.0" rx="8" ry="8" fill="#fde68a" stroke="#2d3748" stroke-width="2" />
  <text x="150.0" y="994.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Generate SVG</text>
  <rect x="160.0" y="644.0" width="140.0" height="60.0" rx="8" ry="8" fill="#fed7aa" stroke="#2d3748" stroke-width="2" />
  <line x1="172.0" y1="644.0" x2="172.0" y2="704.0" stroke="#2d3748" stroke-width="2" />
  <line x1="288.0" y1="644.0" x2="288.0" y2="704.0" stroke="#2d3748" stroke-width="2" />
  <text x="230.0" y="674.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Worker</text>
  <polygon points="230.0,804.0 301.5,834.0 230.0,864.0 158.5,834.0" fill="#fbcfe8" stroke="#2d3748" stroke-width="2" />
  <text x="230.0" y="834.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Render Success?</text>
  <rect x="441.5" y="484.0" width="140.0" height="60.0" rx="30" ry="30" fill="#c4f1f9" stroke="#2d3748" stroke-width="2" />
  <text x="511.5" y="514.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Reject</text>
  <rect x="160.0" y="1124.0" width="140.0" height="60.0" rx="30" ry="30" fill="#c4f1f9" stroke="#2d3748" stroke-width="2" />
  <text x="230.0" y="1154.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Send 200 OK</text>
  <rect x="521.5" y="164.0" width="140.0" height="60.0" rx="8" ry="8" fill="#fde68a" stroke="#2d3748" stroke-width="2" />
  <text x="591.5" y="194.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Client Request</text>
  <rect x="240.0" y="964.0" width="140.0" height="60.0" rx="8" ry="8" fill="#fde68a" stroke="#2d3748" stroke-width="2" />
  <text x="310.0" y="994.0" fill="#1a202c" font-size="14" text-anchor="middle" dominant-baseline="middle">Retry</text>
</svg>
